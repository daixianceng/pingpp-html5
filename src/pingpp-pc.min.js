!function(){function e(e,i,t){var n=document.createElement("form");n.setAttribute("method",i),n.setAttribute("action",e);for(var a in t)if(r.call(t,a)){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",a),o.setAttribute("value",t[a]),n.appendChild(o)}document.body.appendChild(n),n.submit()}function i(e,i,t){"undefined"==typeof t&&(t=!1);var r=[];for(var n in e)("bfb_wap"!=i||"url"!=n)&&("yeepay_wap"!=i||"mode"!=n)&&r.push(n+"="+(t?encodeURIComponent(e[n]):e[n]));return r.join("&")}var t="2.0.7",r={}.hasOwnProperty,n=function(){},a={PINGPP_NOTIFY_URL:"https://api.pingxx.com/notify/charges/",PINGPP_MOCK_URL:"http://sissi.pingxx.com/mock.php",ALIPAY_PC_DIRECT_URL:"https://mapi.alipay.com/gateway.do",UPACP_PC_URL:"https://gateway.95516.com/gateway/api/frontTransReq.do"},o={alipay_pc_direct:"alipay_pc_direct",upacp_pc:"upacp_pc"};n.prototype={version:t,_resultCallback:void 0,_debug:!1,createPayment:function(t,n,l){"function"==typeof n&&(this._resultCallback=n),"boolean"==typeof l&&(this._debug=l);var c;if("string"==typeof t)try{c=JSON.parse(t)}catch(_){return void this._innerCallback("fail",this._error("json_decode_fail"))}else c=t;if("undefined"==typeof c)return void this._innerCallback("fail",this._error("json_decode_fail"));if(!r.call(c,"id"))return void this._innerCallback("fail",this._error("invalid_charge","no_charge_id"));if(!r.call(c,"channel"))return void this._innerCallback("fail",this._error("invalid_charge","no_channel"));var d=c.channel;if(!r.call(c,"credential"))return void this._innerCallback("fail",this._error("invalid_charge","no_credential"));if(!c.credential)return void this._innerCallback("fail",this._error("invalid_credential","credential_is_undefined"));if(!r.call(o,d))return void this._innerCallback("fail",this._error("invalid_charge","no_such_channel:"+d));if(!r.call(c.credential,d))return void this._innerCallback("fail",this._error("invalid_credential","no_valid_channel_credential"));if(!r.call(c,"livemode"))return void this._innerCallback("fail",this._error("invalid_charge","no_livemode"));if(0==c.livemode)return void this._testModeNotify(c);var p=c.credential[d];if(d==o.upacp_pc)e(a.UPACP_PC_URL,"post",p);else if(d==o.alipay_pc_direct){r.call(p,"_input_charset")||(p._input_charset="utf-8");var f=i(p,d,!0);window.location.href=a.ALIPAY_PC_DIRECT_URL+"?"+f}},_error:function(e,i){return e="undefined"==typeof e?"":e,i="undefined"==typeof i?"":i,{msg:e,extra:i}},_innerCallback:function(e,i){"function"==typeof this._resultCallback&&("undefined"==typeof i&&(i=this._error()),this._resultCallback(e,i))},_testModeNotify:function(e){var t={ch_id:e.id,scheme:"http",channel:e.channel};r.call(e,"order_no")?t.order_no=e.order_no:r.call(e,"orderNo")&&(t.order_no=e.orderNo),r.call(e,"time_expire")?t.time_expire=e.time_expire:r.call(e,"timeExpire")&&(t.time_expire=e.timeExpire),r.call(e,"extra")&&(t.extra=encodeURIComponent(JSON.stringify(e.extra))),location.href=a.PINGPP_MOCK_URL+"?"+i(t)}},n.prototype.payment=n.prototype.createPayment,window.pingppPc=new n}();